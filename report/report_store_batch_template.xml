<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>
    <template id="report_store_batch_template" t-name="store_product_batch.report_store_batch_template">
  <t t-call="web.html_container">
    <t t-call="web.internal_layout">
      <t t-if="data">
        <t t-set="location_by_earned" t-value="data['location_by_earned']"/>
        <t t-set="location_by_qty" t-value="data['location_by_qty']"/>
        <t t-set="product_summary" t-value="data['product_summary']"/>
        <t t-set="time_summary_by_location" t-value="data['time_summary_by_location']"/>
        <t t-set="earned_by_location_hour" t-value="data['earned_by_location_hour']"/>

        <!-- Top Locations by Consumed Quantity -->
        <div class="card mb-4">
          <div class="card-header bg-info text-white">
            <h4 class="mb-0">Top Locations by Consumed Quantity</h4>
          </div>
          <div class="card-body">
            <table class="table table-bordered table-hover">
              <thead>
                <tr><th>Location</th><th>Consumed Qty</th></tr>
              </thead>
              <tbody>
                <t t-foreach="location_by_qty" t-as="loc">
                  <tr>
                    <td><t t-esc="loc[0]"/></td>
                    <td><t t-esc="loc[1]"/></td>
                  </tr>
                </t>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Top Locations by Earned Amount -->
        <div class="card mb-4">
          <div class="card-header bg-secondary text-white">
            <h4 class="mb-0">Top Locations by Earned Amount</h4>
          </div>
          <div class="card-body">
            <table class="table table-bordered table-hover">
              <thead>
                <tr><th>Location</th><th>Earned Amount</th></tr>
              </thead>
              <tbody>
                <t t-foreach="location_by_earned" t-as="loc">
                  <tr>
                    <td><t t-esc="loc[0]"/></td>
                    <td><t t-esc="loc[1]"/></td>
                  </tr>
                </t>
              </tbody>
            </table>
          </div>
        </div>


        <!-- Top Products -->
        <div class="card mb-4">
          <div class="card-header bg-success text-white">
            <h4 class="mb-0">Top Products</h4>
          </div>
          <div class="card-body">
            <table class="table table-bordered table-hover">
              <thead>
                <tr><th>Product</th><th>Consumed Qty</th></tr>
              </thead>
              <tbody>
                <t t-foreach="product_summary.items()" t-as="prod">
                  <tr>
                    <td><t t-esc="prod[0]"/></td>
                    <td><t t-esc="prod[1]"/></td>
                  </tr>
                </t>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Time Summary Per Location per quantity -->
        <div class="card mb-4">
          <div class="card-header bg-dark text-white">
            <h4 class="mb-0">Consumption by Hour per Location</h4>
          </div>
          <div class="card-body">
            <t t-foreach="time_summary_by_location.items()" t-as="loc_summary">
              <h5 class="mt-3 text-info"><t t-esc="loc_summary[0]"/></h5>
              <table class="table table-bordered table-sm">
                <thead>
                  <tr><th>Hour</th><th>Consumed Qty</th></tr>
                </thead>
                <tbody>
                  <t t-foreach="loc_summary[1].items()" t-as="hour_summary">
                    <tr>
                      <td><t t-esc="hour_summary[0]"/></td>
                      <td><t t-esc="hour_summary[1]"/></td>
                    </tr>
                  </t>
                </tbody>
              </table>
            </t>
          </div>
        </div>


        <!-- Earned Amount by Hour per Location -->
        <div class="card mb-4">
          <div class="card-header bg-success text-white">
            <h4 class="mb-0">Earned Amount by Hour per Location</h4>
          </div>
          <div class="card-body">
            <t t-foreach="earned_by_location_hour.items()" t-as="loc_summary">
              <h5 class="mt-3 text-primary"><t t-esc="loc_summary[0]"/></h5>
              <table class="table table-bordered table-sm">
                <thead>
                  <tr><th>Hour</th><th>Earned Amount</th></tr>
                </thead>
                <tbody>
                  <t t-foreach="loc_summary[1].items()" t-as="hour_summary">
                    <tr>
                      <td><t t-esc="hour_summary[0]"/></td>
                      <td><t t-esc="hour_summary[1]"/></td>
                    </tr>
                  </t>
                </tbody>
              </table>
            </t>
          </div>
        </div>


      </t>
    </t>
  </t>
</template>

 </data>
  
</odoo>
